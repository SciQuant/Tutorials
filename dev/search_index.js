var documenterSearchIndex = {"docs":
[{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"EditURL = \"https://github.com/SciQuant/Tutorials/blob/master/src/dynamics.jl\"","category":"page"},{"location":"pages/t001_dynamics/#Tutorial-1:-Dynamics","page":"1 Dynamics","title":"Tutorial 1: Dynamics","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"(Image: ) (Image: )","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"In this tutorial, you will learn:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"How to declare dynamics with arbitrary coefficients,\nHow to declare dynamics with known coefficients,\nHow to declare dynamical systems.","category":"page"},{"location":"pages/t001_dynamics/#Introduction","page":"1 Dynamics","title":"Introduction","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"In UniversalDynamics a dynamics represents continuous time, D-dimensional Ito Systems of Stochastic Differential Equations (SDEs) in a time span mathbbI = leftt_0 T right:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"dvecu(t) = f(t vecu(t)) cdot dt + g(t vecu(t)) cdot dvecW(t) quad vecu(t_0) = vecu_0","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"with drift coefficient f colon mathbbI times mathbbR^D rightarrow mathbbR^D, diffusion coefficient g colon mathbbI times mathbbR^D rightarrow mathbbR^D times M, M-dimensional driving Wiener correlated or uncorrelated process vecW(t) and initial condition vecu_0.","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"The library represents dynamics by means of two main types, SystemDynamics and ModelDynamics. The first case refers to SDEs with arbitrary coefficients while the second case is a supertype for dynamics with known coefficients that are already implemented in the library.","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Finally, as discussed in the documentation, the general expression of a dynamics can be simplified depending on the noise type.","category":"page"},{"location":"pages/t001_dynamics/#Setup","page":"1 Dynamics","title":"Setup","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"The first step is to load the library:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"using UniversalDynamics","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Always take into account that most of the objects have documentation that can be inspected using ? followed by the object name. For example:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"# Type ? to enter help mode\nhelp?> SystemDynamics","category":"page"},{"location":"pages/t001_dynamics/#System-Dynamics","page":"1 Dynamics","title":"System Dynamics","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"A System of Stochastic Differential Equations with arbitrary coefficients is declared by its initial condition or state, initial time, noise type and noise correlations. For example, a three dimensional system with scalar noise is given using:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"x0 = rand(3)\nx = SystemDynamics(x0; noise=ScalarNoise())","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"3-dimensional system dynamics with 1-dimensional NonDiagonalNoise\n state:           [0.087645, 0.119906, 0.360566]\n in-place?        true\n Dimension:       3\n Noise dimension: 1\n diagonal noise?  false","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Notice that since x0 isa Vector, the system is defined in its in-place form. Otherwise, if we would like to work with the out of place version, x0 must be defined as a SVector.","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"On the other hand, diagonal noise is the default noise type, for example:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"y0 = rand(2)\ny = SystemDynamics(y0)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"2-dimensional system dynamics with 2-dimensional DiagonalNoise\n state:           [0.838748, 0.989058]\n in-place?        true\n Dimension:       2\n Noise dimension: 2\n diagonal noise?  true","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Lastly, the non-diagonal noise case with correlated noises can be given using:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"z0 = rand(1)\nρ = [exp(abs(i - j) / 2 * log(0.663)) for i in 1:3, j in 1:3]\nz = SystemDynamics(z0; noise=NonDiagonalNoise(3), ρ=ρ)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"1-dimensional system dynamics with 3-dimensional NonDiagonalNoise\n state:           [0.0257713]\n in-place?        true\n Dimension:       1\n Noise dimension: 3\n diagonal noise?  false","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Notice that coefficients for these kind of dynamics haven't been described yet. They are provided in a further step, only if needed. This will become more clear after reading the following sections.","category":"page"},{"location":"pages/t001_dynamics/#Model-Dynamics","page":"1 Dynamics","title":"Model Dynamics","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"A Model Dynamics refers to Stochastic Differential Equations that are known and fairly common in finance, such that it is worth having their coefficients implemented in the library. In this case, we need to provide additional parameters for the coefficients. For example, the well known One-Factor Vasicek model can be given as a One-Factor Short Rate Model of Affine type (checkout the documentation for further details) with some assumptions, namely:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"κ, θ and Σ as time independent parameters,\nα = 1 and β = 0.","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"r0 = rand(1)\nκ(t) = 0.4363\nθ(t) = 0.0613\nΣ(t) = 0.1491\nα(t) = one(t)\nβ(t) = zero(t)\nr = OneFactorAffineModelDynamics(r0, κ, θ, Σ, α, β)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"1-dimensional One-Factor Affine Short Rate model dynamics\n state:           [0.724858]\n in-place?        true\n Dimension:       1\n Noise dimension: 1\n diagonal noise?  true","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"As already mentioned, coefficients for these kind of dynamics are already implemented in the library. It is possible to access to them by calling either the drift or difussion functions on their in-place or out-of-place versions, which are dispatched depending on the parameters type. For example, for the in-place version we need to call coefficient!(du, u, p, t), such that:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"du = similar(get_state(r))\nu = get_state(r)\np = get_parameters(r)\nt = get_t0(r)\n\ndrift!(du, u, p, t)\ndu","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"1-element Array{Float64,1}:\n -0.289510456358477","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"du = similar(get_noise_rate_prototype(r))\ndiffusion!(du, u, p, t)\ndu","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"1-element Array{Float64,1}:\n 0.1491","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"One might wonder why do we need to implement model coefficients in the library. For this particular example, implementing fast coefficients is easy. However, for Multi-Factor models or other models, computations get more complicated and it is useful to aid the user with fast and traceble functions.","category":"page"},{"location":"pages/t001_dynamics/#Dynamical-Systems","page":"1 Dynamics","title":"Dynamical Systems","text":"","category":"section"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"Once we have defined different dynamics, we can group them in a unique system by declaring a dynamical system (checkout the documentation for further details):","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"dynamics = [:x => x, :y => y, :z => z, :r => r]\nds = DynamicalSystem(dynamics)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"7-dimensional dynamical system with 7-dimensional NonDiagonalNoise\n state:           [0.087645, 0.119906, 0.360566, …, 0.0257713, 0.724858]\n in-place?        true\n Dimension:       7\n Noise dimension: 7\n diagonal noise?  false","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"This dynamical system has relevant information, such as its state:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"get_state(ds)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"7-element Array{Float64,1}:\n 0.08764502112621697\n 0.11990649972884615\n 0.3605656771559427\n 0.838747605415286\n 0.9890578428017258\n 0.02577127302571469\n 0.7248582313969218","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"the initial time:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"get_t0(ds)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"0.0","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"the correlations between noises:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"get_cor(ds)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"7×7 Array{Float64,2}:\n 1.0  0.0  0.0  0.0       0.0       0.0       0.0\n 0.0  1.0  0.0  0.0       0.0       0.0       0.0\n 0.0  0.0  1.0  0.0       0.0       0.0       0.0\n 0.0  0.0  0.0  1.0       0.814248  0.663     0.0\n 0.0  0.0  0.0  0.814248  1.0       0.814248  0.0\n 0.0  0.0  0.0  0.663     0.814248  1.0       0.0\n 0.0  0.0  0.0  0.0       0.0       0.0       1.0","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"and the noise rate prototype, which represents the prototype that the difussion function either modify in-place or return:","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"get_noise_rate_prototype(ds)","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"7×7 Array{Float64,2}:\n 1.0  0.0  0.0  0.0  0.0  0.0  0.0\n 1.0  0.0  0.0  0.0  0.0  0.0  0.0\n 1.0  0.0  0.0  0.0  0.0  0.0  0.0\n 0.0  1.0  0.0  0.0  0.0  0.0  0.0\n 0.0  0.0  1.0  0.0  0.0  0.0  0.0\n 0.0  0.0  0.0  1.0  1.0  1.0  0.0\n 0.0  0.0  0.0  0.0  0.0  0.0  1.0","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"","category":"page"},{"location":"pages/t001_dynamics/","page":"1 Dynamics","title":"1 Dynamics","text":"This page was generated using Literate.jl.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"CurrentModule = Tutorials","category":"page"},{"location":"#Tutorials","page":"Introduction","title":"Tutorials","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Modules = [Tutorials]","category":"page"}]
}
