<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>1 Dynamics Declaration · SciQuant tutorials</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SciQuant tutorials</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li class="is-active"><a class="tocitem" href>1 Dynamics Declaration</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li class="toplevel"><a class="tocitem" href="#Setup"><span>Setup</span></a></li><li class="toplevel"><a class="tocitem" href="#System-Dynamics"><span>System Dynamics</span></a></li><li class="toplevel"><a class="tocitem" href="#Model-Dynamics"><span>Model Dynamics</span></a></li><li class="toplevel"><a class="tocitem" href="#Dynamical-Systems"><span>Dynamical Systems</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>1 Dynamics Declaration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>1 Dynamics Declaration</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SciQuant/Tutorials/blob/master/src/dynamics.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial-1:-Dynamics-Declaration"><a class="docs-heading-anchor" href="#Tutorial-1:-Dynamics-Declaration">Tutorial 1: Dynamics Declaration</a><a id="Tutorial-1:-Dynamics-Declaration-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-1:-Dynamics-Declaration" title="Permalink"></a></h1><p><a href="https://mybinder.org/v2/gh/SciQuant/Tutorials/gh-pages?filepath=dev/notebooks/t001_dynamics.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt/></a> <a href="https://nbviewer.jupyter.org/github/SciQuant/Tutorials/blob/gh-pages/dev/notebooks/t001_dynamics.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt/></a></p><p>In this tutorial, you will learn:</p><ul><li>How to declare dynamics with arbitrary coefficients,</li><li>How to declare dynamics with known coefficients,</li><li>How to declare dynamical systems.</li></ul><h1 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h1><p>In <strong>UniversalDynamics</strong> a dynamics represents continuous time, <span>$D$</span>-dimensional Ito Systems of Stochastic Differential Equations (SDEs) in a time span <span>$\mathbb{I} = \left[t_0, T \right]$</span>:</p><p class="math-container">\[d\vec{u}(t) = f(t, \vec{u}(t)) \cdot dt + g(t, \vec{u}(t)) \cdot d\vec{W}(t), \quad \vec{u}(t_0) = \vec{u}_0,\\\]</p><p>with drift coefficient <span>$f \colon \mathbb{I} \times \mathbb{R}^D \rightarrow \mathbb{R}^D$</span>, diffusion coefficient <span>$g \colon \mathbb{I} \times \mathbb{R}^D \rightarrow \mathbb{R}^{D \times M}$</span>, <span>$M$</span>-dimensional driving Wiener correlated or uncorrelated process <span>$\vec{W}(t)$</span> and initial condition <span>$\vec{u}_0$</span>.</p><p>The library represents dynamics by means of two main types, <code>SystemDynamics</code> and <code>ModelDynamics</code>. The first case refers to SDEs with arbitrary coefficients while the second case is a supertype for dynamics with known coefficients that are already implemented in the library.</p><p>Finally, as discussed in the <a href="https://sciquant.github.io/UniversalDynamics.jl/dev/ad/dynamics.html#Introduction">documentation</a>, the general expression of a dynamics can be reduced depending on the noise type.</p><h1 id="Setup"><a class="docs-heading-anchor" href="#Setup">Setup</a><a id="Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Setup" title="Permalink"></a></h1><p>The first step is to load the library:</p><pre><code class="language-julia">using UniversalDynamics</code></pre><p>Always take into account that any object documentation can be inspected using <code>?</code> followed by the object name. For example:</p><pre><code class="language-none"># Type ? to enter help mode
help?&gt; SystemDynamics</code></pre><h1 id="System-Dynamics"><a class="docs-heading-anchor" href="#System-Dynamics">System Dynamics</a><a id="System-Dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#System-Dynamics" title="Permalink"></a></h1><p>A System of Stochastic Differential Equations with arbitrary coefficients is declared by its initial condition or state, initial time, noise type and noise correlations. For example, a three dimensional system with scalar noise is given using:</p><pre><code class="language-julia">x0 = rand(3)
x = SystemDynamics(x0; noise=ScalarNoise())</code></pre><pre><code class="language-none">3-dimensional system dynamics with 1-dimensional NonDiagonalNoise
 state:           [0.572022, 0.477856, 0.860256]
 in-place?        true
 Dimension:       3
 Noise dimension: 1
 diagonal noise?  false</code></pre><p>Notice that since <code>x0 isa Vector</code>, the system is defined in its in-place form. Otherwise, if we would like to work with the out of place version, <code>x0</code> must be defined as a <code>SVector</code>.</p><p>On the other hand, diagonal noise is the default noise type, for example:</p><pre><code class="language-julia">y0 = rand(2)
y = SystemDynamics(y0)</code></pre><pre><code class="language-none">2-dimensional system dynamics with 2-dimensional DiagonalNoise
 state:           [0.690144, 0.400915]
 in-place?        true
 Dimension:       2
 Noise dimension: 2
 diagonal noise?  true</code></pre><p>Lastly, the non-diagonal noise case with correlated noises can be given using:</p><pre><code class="language-julia">z0 = rand(1)
ρ = [exp(abs(i - j) / 2 * log(0.663)) for i in 1:3, j in 1:3]
z = SystemDynamics(z0; noise=NonDiagonalNoise(3), ρ=ρ)</code></pre><pre><code class="language-none">1-dimensional system dynamics with 3-dimensional NonDiagonalNoise
 state:           [0.00783908]
 in-place?        true
 Dimension:       1
 Noise dimension: 3
 diagonal noise?  false</code></pre><p>Notice that coefficients for these kind of dynamics haven&#39;t been described yet. They are provided in a further step, only if needed. This will become more clear after reading the following sections.</p><h1 id="Model-Dynamics"><a class="docs-heading-anchor" href="#Model-Dynamics">Model Dynamics</a><a id="Model-Dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Dynamics" title="Permalink"></a></h1><p>A Model Dynamics refers to Stochastic Differential Equations that are known and fairly common in finance, such that it is worth having their coefficients implemented in the library. In this case, we need to provide additional parameters for the coefficients. For example, the well known One-Factor Vasicek model can be given as a One-Factor Short Rate Model of Affine type (see documentation <a href="https://sciquant.github.io/UniversalDynamics.jl/dev/ir/short_rate_model.html#One-Factor-Affine-Model">here</a> for further details) with some assumptions, namely:</p><ul><li><span>$κ$</span>, <span>$θ$</span> and <span>$Σ$</span> as time independent parameters,</li><li><span>$α = 1$</span> and <span>$β = 0$</span>.</li></ul><pre><code class="language-julia">r0 = rand(1)
κ(t) = 0.4363
θ(t) = 0.0613
Σ(t) = 0.1491
r = OneFactorAffineModelDynamics(r0, κ, θ, Σ, one, zero)</code></pre><pre><code class="language-none">1-dimensional One-Factor Affine Short Rate model dynamics
 state:           [0.28842]
 in-place?        true
 Dimension:       1
 Noise dimension: 1
 diagonal noise?  true</code></pre><h1 id="Dynamical-Systems"><a class="docs-heading-anchor" href="#Dynamical-Systems">Dynamical Systems</a><a id="Dynamical-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamical-Systems" title="Permalink"></a></h1><p>group dynamics in a container</p><pre><code class="language-julia">dynamics = [:x =&gt; x, :y =&gt; y, :z =&gt; z]</code></pre><pre><code class="language-none">3-element Array{Pair{Symbol,UniversalDynamics.SystemDynamics{true,D,M,DN,Float64,A} where A where DN where M where D},1}:
 :x =&gt; 3-dimensional system dynamics with 1-dimensional NonDiagonalNoise
 state:           [0.572022, 0.477856, 0.860256]
 in-place?        true
 Dimension:       3
 Noise dimension: 1
 diagonal noise?  false
 :y =&gt; 2-dimensional system dynamics with 2-dimensional DiagonalNoise
 state:           [0.690144, 0.400915]
 in-place?        true
 Dimension:       2
 Noise dimension: 2
 diagonal noise?  true
 :z =&gt; 1-dimensional system dynamics with 3-dimensional NonDiagonalNoise
 state:           [0.00783908]
 in-place?        true
 Dimension:       1
 Noise dimension: 3
 diagonal noise?  false</code></pre><p>compute dynamical system</p><pre><code class="language-julia">ds = DynamicalSystem(dynamics)</code></pre><pre><code class="language-none">6-dimensional dynamical system with 6-dimensional NonDiagonalNoise
 state:           [0.572022, 0.477856, 0.860256, …, 0.400915, 0.00783908]
 in-place?        true
 Dimension:       6
 Noise dimension: 6
 diagonal noise?  false</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Introduction</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 24 February 2021 20:46">Wednesday 24 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
